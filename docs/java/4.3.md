# 4.3. Multidimensional Arrays

A multidimensional array is an array of arrays. It allows you to store data in a tabular form with rows and columns. The most commonly used multidimensional array is the two-dimensional array, which can be visualized as a matrix or table.

### Key Characteristics:

- **Array of Arrays**: Each element of a multidimensional array is itself an array
- **Indexed by Multiple Dimensions**: Access elements using multiple indices (e.g., `array[row][column]`)
- **Flexible Structure**: Java allows jagged arrays where each row can have different lengths
- **Homogeneous**: All elements must be of the same data type

## Two-Dimensional Arrays

### Declaration

To declare a two-dimensional array, use double square brackets:

```java
int[][] matrix; // Declares a 2D array of integers
String[][] grid; // Declares a 2D array of strings
```

### Initialization

1. **Using `new` keyword with fixed dimensions**:

   ```java
   int[][] matrix = new int[3][4]; // 3 rows, 4 columns
   ```

2. **Using array literals**:

   ```java
   int[][] matrix = {
       {1, 2, 3, 4},
       {5, 6, 7, 8},
       {9, 10, 11, 12}
   };
   ```

3. **Mixed initialization**:
   ```java
   int[][] matrix = new int[3][];
   matrix[0] = new int[]{1, 2, 3};
   matrix[1] = new int[]{4, 5};
   matrix[2] = new int[]{6, 7, 8, 9};
   ```

## Accessing Elements

Elements in a 2D array are accessed using two indices: `array[row][column]`

```java
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

int element = matrix[1][2]; // Gets 6 (row 1, column 2)
matrix[0][1] = 10; // Sets element at row 0, column 1 to 10
```

## Traversing Multidimensional Arrays

### Using Nested Loops

The most common way to traverse a 2D array is using nested for loops:

```java
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

// Print all elements
for (int i = 0; i < matrix.length; i++) {
    for (int j = 0; j < matrix[i].length; j++) {
        System.out.print(matrix[i][j] + " ");
    }
    System.out.println(); // New line after each row
}
```

### Using Enhanced For Loop

```java
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

// Print all elements using enhanced for loop
for (int[] row : matrix) {
    for (int element : row) {
        System.out.print(element + " ");
    }
    System.out.println();
}
```

## Common Operations

### Finding Array Dimensions

```java
int[][] matrix = new int[5][3];

int rows = matrix.length;        // Number of rows: 5
int cols = matrix[0].length;     // Number of columns: 3
```

### Summing All Elements

```java
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

int sum = 0;
for (int i = 0; i < matrix.length; i++) {
    for (int j = 0; j < matrix[i].length; j++) {
        sum += matrix[i][j];
    }
}
System.out.println("Sum: " + sum); // Output: Sum: 45
```

### Finding Maximum Element

```java
int[][] matrix = {
    {1, 9, 3},
    {4, 5, 6},
    {7, 2, 8}
};

int max = matrix[0][0];
for (int i = 0; i < matrix.length; i++) {
    for (int j = 0; j < matrix[i].length; j++) {
        if (matrix[i][j] > max) {
            max = matrix[i][j];
        }
    }
}
System.out.println("Maximum: " + max); // Output: Maximum: 9
```

## Jagged Arrays

Java allows creating jagged arrays where each row can have different lengths:

```java
int[][] jaggedArray = new int[3][];
jaggedArray[0] = new int[2];     // First row has 2 elements
jaggedArray[1] = new int[4];     // Second row has 4 elements
jaggedArray[2] = new int[3];     // Third row has 3 elements

// Initialize values
jaggedArray[0][0] = 1; jaggedArray[0][1] = 2;
jaggedArray[1][0] = 3; jaggedArray[1][1] = 4; jaggedArray[1][2] = 5; jaggedArray[1][3] = 6;
jaggedArray[2][0] = 7; jaggedArray[2][1] = 8; jaggedArray[2][2] = 9;

// Traverse jagged array
for (int i = 0; i < jaggedArray.length; i++) {
    for (int j = 0; j < jaggedArray[i].length; j++) {
        System.out.print(jaggedArray[i][j] + " ");
    }
    System.out.println();
}
```

## Three-Dimensional Arrays

For more complex data structures, you can create 3D arrays:

```java
int[][][] cube = new int[3][4][5]; // 3x4x5 array

// Initialize and access elements
cube[0][1][2] = 42;
int value = cube[0][1][2]; // Gets 42

// Traverse 3D array
for (int i = 0; i < cube.length; i++) {
    for (int j = 0; j < cube[i].length; j++) {
        for (int k = 0; k < cube[i][j].length; k++) {
            System.out.print(cube[i][j][k] + " ");
        }
        System.out.println();
    }
    System.out.println("---");
}
```

## Practical Example: Game Board

Here's a practical example using a 2D array to represent a tic-tac-toe board:

```java
public class TicTacToe {
    private char[][] board;
    private static final int SIZE = 3;

    public TicTacToe() {
        board = new char[SIZE][SIZE];
        initializeBoard();
    }

    private void initializeBoard() {
        for (int i = 0; i < SIZE; i++) {
            for (int j = 0; j < SIZE; j++) {
                board[i][j] = '-';
            }
        }
    }

    public void printBoard() {
        for (int i = 0; i < SIZE; i++) {
            for (int j = 0; j < SIZE; j++) {
                System.out.print(board[i][j] + " ");
            }
            System.out.println();
        }
    }

    public boolean makeMove(int row, int col, char player) {
        if (row >= 0 && row < SIZE && col >= 0 && col < SIZE &&
            board[row][col] == '-') {
            board[row][col] = player;
            return true;
        }
        return false;
    }

    public boolean checkWinner(char player) {
        // Check rows
        for (int i = 0; i < SIZE; i++) {
            boolean rowWin = true;
            for (int j = 0; j < SIZE; j++) {
                if (board[i][j] != player) {
                    rowWin = false;
                    break;
                }
            }
            if (rowWin) return true;
        }

        // Check columns
        for (int j = 0; j < SIZE; j++) {
            boolean colWin = true;
            for (int i = 0; i < SIZE; i++) {
                if (board[i][j] != player) {
                    colWin = false;
                    break;
                }
            }
            if (colWin) return true;
        }

        // Check diagonals
        boolean diag1 = true, diag2 = true;
        for (int i = 0; i < SIZE; i++) {
            if (board[i][i] != player) diag1 = false;
            if (board[i][SIZE - 1 - i] != player) diag2 = false;
        }

        return diag1 || diag2;
    }
}
```

## Common Pitfalls and Best Practices

### Pitfalls to Avoid

1. **ArrayIndexOutOfBoundsException**: Always check array bounds

   ```java
   // Wrong
   int[][] matrix = new int[3][3];
   matrix[3][0] = 5; // Error: index 3 is out of bounds

   // Correct
   if (row < matrix.length && col < matrix[0].length) {
       matrix[row][col] = 5;
   }
   ```

2. **NullPointerException**: Initialize arrays before use

   ```java
   // Wrong
   int[][] matrix = new int[3][];
   matrix[0][0] = 5; // Error: matrix[0] is null

   // Correct
   int[][] matrix = new int[3][];
   matrix[0] = new int[3];
   matrix[0][0] = 5;
   ```

### Best Practices

1. **Use descriptive variable names**:

   ```java
   int[][] gameBoard = new int[8][8]; // Better than int[][] arr
   ```

2. **Check for null and bounds**:

   ```java
   public static void printMatrix(int[][] matrix) {
       if (matrix == null) return;

       for (int i = 0; i < matrix.length; i++) {
           if (matrix[i] == null) continue;
           for (int j = 0; j < matrix[i].length; j++) {
               System.out.print(matrix[i][j] + " ");
           }
           System.out.println();
       }
   }
   ```

3. **Use constants for array dimensions**:
   ```java
   private static final int ROWS = 10;
   private static final int COLS = 10;
   int[][] grid = new int[ROWS][COLS];
   ```

## Summary

Multidimensional arrays are powerful data structures that allow you to organize data in tabular forms. Key points to remember:

- Use double brackets `[][]` for 2D arrays
- Access elements with `array[row][column]` notation
- Use nested loops for traversal
- Be careful with array bounds and null checks
- Java supports jagged arrays with varying row lengths
- Practical applications include game boards, matrices, and data grids

Understanding multidimensional arrays is essential for working with complex data structures and algorithms in Java programming.
