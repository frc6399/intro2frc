# 2.6. Char and String Operations

## 2.6.1. Char and String Types

Java provides two distinct ways to work with textual data:

- `char`: Primitive data type for single characters (16-bit Unicode)
- `String`: Reference data type (class) for sequences of characters

Key differences:

- `char` is a primitive type, `String` is a class
- `char` uses single quotes, `String` uses double quotes
- `char` variables hold single values, `String` objects hold sequences

## 2.6.2. Character Data Type

The `char` data type represents a single 16-bit Unicode character.

Declaration and initialization:

```java
char letter = 'A';          // Character literal
char digit = '7';           // Digit character
char symbol = '$';          // Special character
char newline = '\n';        // Escape sequence
char unicodeChar = '\u0041'; // Unicode for 'A'
```

Escape sequences:

- `\n` - Newline
- `\t` - Tab
- `\\` - Backslash
- `\'` - Single quote
- `\"` - Double quote
- `\r` - Carriage return

Character arithmetic:

```java
char first = 'A';
char second = (char)(first + 1);  // 'B'
int value = 'A';                  // 65 (Unicode value)
```

## 2.6.3. String Class and Immutability

Strings in Java are objects of the `String` class and are immutable - once created, their content cannot be changed.

```java
String name = "Java";
// name cannot be modified after creation
```

Immutability benefits:

- Thread safety
- Security (can't be modified maliciously)
- Hash code caching for performance
- String pool optimization

## 2.6.4. String Creation and Initialization

Multiple ways to create strings:

```java
// String literals (go to string pool)
String s1 = "Hello";

// Using new keyword (creates new object)
String s2 = new String("Hello");

// From character array
char[] chars = {'H', 'e', 'l', 'l', 'o'};
String s3 = new String(chars);

// From another string
String s4 = new String(s1);

// Empty string
String empty = "";
```

String pool concept:

```java
String a = "Hello";      // Goes to string pool
String b = "Hello";      // Reuses from string pool
String c = new String("Hello"); // Creates new object

System.out.println(a == b);     // true (same reference)
System.out.println(a == c);     // false (different objects)
System.out.println(a.equals(c)); // true (same content)
```

## 2.6.5. Common String Operations

Basic string operations:

```java
String text = "Java Programming";

// Length
int length = text.length();      // 16

// Concatenation
String result = "Hello" + " " + "World"; // "Hello World"
String combined = text.concat(" is fun"); // "Java Programming is fun"

// Character access
char firstChar = text.charAt(0); // 'J'
char lastChar = text.charAt(text.length() - 1); // 'g'

// Substring
String sub1 = text.substring(5);        // "Programming"
String sub2 = text.substring(0, 4);     // "Java"
```

## 2.6.6. String Comparison Methods

Proper string comparison is crucial:

```java
String s1 = "hello";
String s2 = "HELLO";
String s3 = new String("hello");

// equals() - case-sensitive content comparison
boolean eq1 = s1.equals(s2);     // false
boolean eq2 = s1.equals(s3);     // true

// equalsIgnoreCase() - case-insensitive comparison
boolean eq3 = s1.equalsIgnoreCase(s2); // true

// compareTo() - lexicographical comparison
int comp1 = s1.compareTo(s2);    // positive (h > H in Unicode)
int comp2 = s1.compareTo("hello"); // 0

// compareToIgnoreCase() - case-insensitive lex comparison
int comp3 = s1.compareToIgnoreCase(s2); // 0

// Reference comparison (usually not recommended)
boolean refComp = (s1 == s3);    // false
```

## 2.6.7. String Manipulation Methods

Common string manipulation methods:

```java
String text = "   Java Programming   ";

// Trimming whitespace
String trimmed = text.trim();    // "Java Programming"

// Case conversion
String upper = text.toUpperCase(); // "   JAVA PROGRAMMING   "
String lower = text.toLowerCase(); // "   java programming   "

// Replacement
String replaced = text.replace('a', 'o'); // "   Jovo Progromming   "
String noSpaces = text.replace(" ", "");  // "JavaProgramming"

// Splitting
String csv = "apple,orange,banana";
String[] fruits = csv.split(","); // ["apple", "orange", "banana"]

// Joining (Java 8+)
String joined = String.join("-", "2023", "12", "25"); // "2023-12-25"
```

## 2.6.8. String Searching Methods

Methods to search within strings:

```java
String text = "Java Programming is fun";

// Contains
boolean hasJava = text.contains("Java"); // true

// Starts/ends with
boolean startsWith = text.startsWith("Java"); // true
boolean endsWith = text.endsWith("fun");     // true

// Index of
int firstIndex = text.indexOf('a');          // 1
int lastIndex = text.lastIndexOf('a');       // 10
int stringIndex = text.indexOf("Programming"); // 5

// Empty check
boolean isEmpty = text.isEmpty();            // false
boolean isBlank = text.isBlank();            // false (Java 11+)
```

## 2.6.9. Character Class Utility Methods

The `Character` class provides utility methods for char operations:

```java
char ch = 'A';

// Type checking
boolean isLetter = Character.isLetter(ch);       // true
boolean isDigit = Character.isDigit('7');        // true
boolean isWhitespace = Character.isWhitespace(' '); // true
boolean isUpperCase = Character.isUpperCase(ch); // true
boolean isLowerCase = Character.isLowerCase('a'); // true

// Case conversion
char lowerCase = Character.toLowerCase(ch);      // 'a'
char upperCase = Character.toUpperCase('b');     // 'B'

// Other utilities
char[] chars = {'H', 'i'};
String fromChars = Character.toString('X');      // "X"
```

## 2.6.10. String Formatting

Various ways to format strings:

```java
// String.format()
String formatted = String.format("Name: %s, Age: %d", "Alice", 25);

// printf() style
System.out.printf("Value: %.2f%n", 3.14159); // Value: 3.14

// Concatenation with +
String message = "Hello " + "World";

// StringBuilder for complex building
StringBuilder sb = new StringBuilder();
sb.append("Hello").append(" ").append("World");
String result = sb.toString();
```

## 2.6.11. StringBuilder and StringBuffer

For mutable string operations:

```java
// StringBuilder (not thread-safe, faster)
StringBuilder sb = new StringBuilder();
sb.append("Hello");
sb.append(" ");
sb.append("World");
String result = sb.toString(); // "Hello World"

// StringBuffer (thread-safe, slower)
StringBuffer sbf = new StringBuffer();
sbf.append("Safe");
sbf.append(" ");
sbf.append("String");
String safeResult = sbf.toString();

// Common methods
sb.insert(5, " Beautiful"); // "Hello Beautiful World"
sb.delete(6, 15);           // "Hello World"
sb.reverse();               // "dlroW olleH"
sb.replace(6, 11, "Java");  // "Hello Java"
```

## 2.6.12. Common Pitfalls and Best Practices

Common mistakes:

```java
// Mistake: Using == for string comparison
String s1 = "hello";
String s2 = new String("hello");
if (s1 == s2) {  // false! Use equals() instead
    // This won't execute
}

// Mistake: Inefficient string concatenation in loops
String result = "";
for (int i = 0; i < 1000; i++) {
    result += i;  // Creates many temporary objects - use StringBuilder
}

// Mistake: Ignoring case in comparisons
String input = "YES";
if (input == "yes") {  // false - should use equalsIgnoreCase()
    // This won't execute
}
```

Best practices:

- Use `equals()` instead of `==` for string content comparison
- Use `StringBuilder` for complex string building operations
- Prefer string literals over `new String()` when possible
- Use `trim()` before processing user input
- Consider locale for case conversion: `toUpperCase(Locale.ROOT)`
- Use `isEmpty()` or `isBlank()` for empty string checks

## 2.6.13. Example Code Snippet

```java
public class CharStringOperations {
    public static void main(String[] args) {
        // Character operations
        char letter = 'A';
        char digit = '5';

        System.out.println("Is letter: " + Character.isLetter(letter)); // true
        System.out.println("Is digit: " + Character.isDigit(digit));    // true
        System.out.println("Lowercase: " + Character.toLowerCase(letter)); // 'a'

        // String operations
        String text = "   Java Programming   ";
        System.out.println("Original: '" + text + "'");
        System.out.println("Trimmed: '" + text.trim() + "'");
        System.out.println("Uppercase: '" + text.toUpperCase() + "'");
        System.out.println("Length: " + text.length());
        System.out.println("Substring: '" + text.substring(5, 16) + "'");

        // String comparison
        String s1 = "hello";
        String s2 = "HELLO";
        System.out.println("Equals: " + s1.equals(s2));            // false
        System.out.println("Equals ignore case: " + s1.equalsIgnoreCase(s2)); // true

        // String searching
        System.out.println("Contains 'Java': " + text.contains("Java")); // true
        System.out.println("Index of 'P': " + text.indexOf('P'));        // 8

        // StringBuilder example
        StringBuilder sb = new StringBuilder();
        sb.append("Hello").append(" ").append("World");
        sb.insert(5, " Beautiful");
        System.out.println("StringBuilder result: " + sb.toString()); // "Hello Beautiful World"

        // String formatting
        String formatted = String.format("Name: %s, Score: %d, Average: %.2f",
                                        "Alice", 95, 87.456);
        System.out.println("Formatted: " + formatted);
    }
}
```
