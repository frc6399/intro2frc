# 2.5 Boolean Operations

Boolean operations are fundamental in Java programming, enabling logical decision-making and control flow. This section explores the `boolean` data type, its operations, and best practices.

## Boolean Type

The `boolean` data type in Java represents logical values and can only hold one of two possible values: `true` or `false`. Unlike some other programming languages, Java does not allow integers to substitute for boolean values, ensuring clarity and reducing errors.

### Key Characteristics:

- **Size**: Not precisely defined in the JVM specification, typically 1 byte.
- **Default Value**: `false` for instance variables.
- **Usage**: Extensively used in control flow statements and conditional logic.

## Boolean Literals and Variables

Boolean literals are the simplest form of boolean expressions. Here's how you can declare and initialize boolean variables:

```java
boolean isJavaFun = true;
boolean isProgrammingHard = false;
```

### Declaration and Initialization:

```java
boolean isValid;          // Declaration, default value is false (uninitialized for local variables)
isValid = true;           // Assignment
boolean isReady = false;  // Declaration with initialization
```

## Relational Operators

Relational operators compare two values and return a boolean result. These operators are essential for decision-making in Java.

| Operator | Description              | Example  | Result  |
| -------- | ------------------------ | -------- | ------- |
| `==`     | Equal to                 | `5 == 5` | `true`  |
| `!=`     | Not equal to             | `5 != 3` | `true`  |
| `>`      | Greater than             | `7 > 5`  | `true`  |
| `<`      | Less than                | `3 < 2`  | `false` |
| `>=`     | Greater than or equal to | `5 >= 5` | `true`  |
| `<=`     | Less than or equal to    | `4 <= 3` | `false` |

### Examples:

```java
int x = 10;
int y = 5;
boolean result1 = x > y;    // true
boolean result2 = x == y;   // false
boolean result3 = x != y;   // true
```

## Logical Operators

Logical operators are used to combine or modify boolean values.

| Operator | Description                     | Example                        | Result     |
| -------- | ------------------------------- | ------------------------------ | ---------- | ------ | ------ | ------ | ------ |
| `&&`     | Logical AND                     | `true && false`                | `false`    |
| `        |                                 | `                              | Logical OR | `true  |        | false` | `true` |
| `!`      | Logical NOT                     | `!true`                        | `false`    |
| `&`      | Boolean AND (non-short-circuit) | `true & false`                 | `false`    |
| `        | `                               | Boolean OR (non-short-circuit) | `true      | false` | `true` |
| `^`      | Logical XOR (exclusive OR)      | `true ^ true`                  | `false`    |

### Examples:

```java
boolean a = true;
boolean b = false;

boolean andResult = a && b;   // false
boolean orResult = a || b;    // true
boolean notResult = !a;       // false
boolean xorResult = a ^ b;    // true
```

## Short-Circuit Evaluation

The `&&` and `||` operators use short-circuit evaluation:

- **`&&`**: If the left operand is `false`, the right operand is not evaluated.
- **`||`**: If the left operand is `true`, the right operand is not evaluated.

### Benefits:

- Prevents errors, such as `NullPointerException`.
- Improves efficiency by avoiding unnecessary evaluations.

```java
// Safe null checking
String text = null;
if (text != null && text.length() > 0) {
    // Won't cause NullPointerException due to short-circuiting
}

// Efficient range checking
int value = 15;
if (value > 0 && value < 100) {
    // If value <= 0, second condition won't be evaluated
}
```

The non-short-circuit versions `&` and `|` always evaluate both operands.

## Operator Precedence

Understanding operator precedence is crucial for writing correct boolean expressions. The precedence order is:

1. `!` (NOT) - highest precedence.
2. Relational operators (`<`, `>`, `<=`, `>=`, `==`, `!=`).
3. `&&` (AND).
4. `||` (OR) - lowest precedence.

Use parentheses to clarify or override precedence:

```java
// Without parentheses - confusing
boolean result1 = x > 5 && y < 10 || z == 0;

// With parentheses - clear intent
boolean result2 = (x > 5 && y < 10) || z == 0;
boolean result3 = x > 5 && (y < 10 || z == 0);
```

## Boolean in Control Flow

Boolean expressions are fundamental to control flow statements:

```java
// if statement
if (condition) {
    // Executes if condition is true
}

// while loop
while (condition) {
    // Repeats while condition is true
}

// for loop
for (int i = 0; i < 10; i++) {
    // Condition i < 10 is evaluated each iteration
}

// do-while loop
do {
    // Executes at least once, then continues while condition is true
} while (condition);
```

## Common Patterns and Idioms

### De Morgan's Laws:

Simplify boolean expressions using these equivalences:

```java
!(a && b) == !a || !b
!(a || b) == !a && !b
```

### Flag Variables:

Use boolean variables to track state:

```java
boolean isProcessing = false;
boolean hasErrors = false;
boolean isComplete = true;
```

### Ternary Operator:

Simplify conditional assignments:

```java
int score = 85;
String result = score >= 60 ? "Pass" : "Fail";
```

## Truth Tables

### AND (`&&`) Truth Table:

| A   | B   | A && B |
| --- | --- | ------ |
| T   | T   | T      |
| T   | F   | F      |
| F   | T   | F      |
| F   | F   | F      |

### OR (`||`) Truth Table:

| A   | B   | A   |     | B   |
| --- | --- | --- | --- | --- |
| T   | T   | T   |
| T   | F   | T   |
| F   | T   | T   |
| F   | F   | F   |

### NOT (`!`) Truth Table:

| A   | !A  |
| --- | --- |
| T   | F   |
| F   | T   |

### XOR (`^`) Truth Table:

| A   | B   | A ^ B |
| --- | --- | ----- |
| T   | T   | F     |
| T   | F   | T     |
| F   | T   | T     |
| F   | F   | F     |

## Common Pitfalls and Best Practices

### Common Mistakes:

```java
// Mistake: Using = instead of ==
boolean flag = false;
if (flag = true) {  // Assignment, not comparison! Always true
    // This will always execute
}

// Mistake: Redundant comparisons
boolean isValid = (x > 5 == true);  // Just write: boolean isValid = x > 5;

// Mistake: Overly complex expressions
if (!(x < 5 || y > 10) && (z == 0 || w != 5)) {
    // Hard to read and maintain
}
```

### Best Practices:

- Use meaningful variable names: `isValid`, `hasPermission`, `shouldExecute`.
- Use parentheses for clarity, even when not strictly necessary.
- Extract complex boolean expressions into well-named methods.
- Use De Morgan's laws to simplify expressions.
- Prefer short-circuit operators (`&&`, `||`) for safety and efficiency.

## Example Code Snippet

```java
public class BooleanOperations {
    public static void main(String[] args) {
        // Basic boolean operations
        boolean a = true;
        boolean b = false;

        System.out.println("a && b: " + (a && b));      // false
        System.out.println("a || b: " + (a || b));      // true
        System.out.println("!a: " + (!a));              // false
        System.out.println("a ^ b: " + (a ^ b));        // true

        // Relational operations
        int x = 10;
        int y = 5;
        System.out.println("x > y: " + (x > y));        // true
        System.out.println("x == y: " + (x == y));      // false

        // Short-circuit demonstration
        String text = null;
        if (text != null && text.length() > 0) {
            System.out.println("Text is not empty");
        } else {
            System.out.println("Text is null or empty"); // This executes
        }

        // Complex boolean expression
        int age = 25;
        boolean hasLicense = true;
        boolean hasInsurance = false;

        boolean canDrive = age >= 16 && hasLicense && hasInsurance;
        System.out.println("Can drive: " + canDrive);   // false

        // Using De Morgan's laws
        boolean original = !(age >= 18 && hasLicense);
        boolean equivalent = age < 18 || !hasLicense;
        System.out.println("Original: " + original);     // false
        System.out.println("Equivalent: " + equivalent); // false
    }
}
```
